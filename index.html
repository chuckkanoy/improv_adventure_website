<!DOCTYPE html>

<head>
    <title>TBD Adventure!</title>
    <link href="style.css" rel="stylesheet" type="text/css">
</head>

<body>
    <div id="container">
        <!--Gather variables for gameplay-->
        <div id="opening">
            Hello! Welcome to the TBD Adventure game by Chuck Kanoy.
            <br>
            <br> Enter the following information about the club board:
            <br>
            <form id="mainInput">
                <br> President: <input type="text" id="president" placeholder="PRESIDENT">
                <br> Vice President: <input type="text" id="vp" placeholder="VP">
                <br> Treasurer: <input type="text" id="treasurer" placeholder="TREASURER">
                <br> Secretary: <input type="text" id="secretary" placeholder="SECRETARY">
                <br> Webmaster: <input type="text" id="webmaster" placeholder="WEBMASTER">
                <br> Publicity Coordinator: <input type="text" id="pc" placeholder="PUBLICITY COORDINATOR">
                <br> Equipment Manager: <input type="text" id="em" placeholder="EQUIPMENT MANAGER">
            </form>
            <br>
            <br> Once info has been entered, please click the "BEGIN" button!<br>

            <!--Javascript sources-->
            <script src="Graph.js"></script>
            <script src="Event.js"></script>
            <script src="InputHandler.js"></script>

            <!--Javascript for generating graph basis-->
            <script>
                //generate events
                var bunny = new Event("Bunny", "You bunny bunny over to " + pres + " and the game continues over and over.<br>", ["n/a", "n/a", "n/a"]);
                var nothing = new Event("Nothing", "You do nothing and everyone looks at you including " + pc + " who runs up and smacks a poster to your forehead.", ["n/a", "n/a", "n/a"]);
                var intro = new Event("Intro", "Welcome to the improv, where things are about to get a little strange.<br>Let's start with a little warmup. Bunny Bunny", [bunny, bunny, nothing]);
                var story = new Graph(3);
                story.addVertex(intro);
                story.addVertex(bunny);
                story.addVertex(nothing);
                story.addEdge(intro, bunny);
                story.addEdge(intro, nothing);
            </script>

            <!--Save info in javascript for later access-->
            <button type="button" id="clickMe" onclick="gatherInfo()"> BEGIN </button>

            <!--Display demo-->
            <p id="display"></p>
        </div>

        <!--Actually display game-->
        <div id="playing" style="visibility: hidden;">
            <p id="game-message"></p>
            <br>
            <button type="button" id="option1" onClick="transferOption1()"></button>
            <br>
            <button type="button" id="option2" onClick="transferOption2()"></button>
            <br>
            <button type="button" id="option3" onClick="transferOption3()"></button>
            <br>

            <script>
                //display the options of the current event
                function displayData() {
                    document.getElementById("game-message").innerHTML = story.currentVertex.message;
                    for (i = 0; i < 3; i++) {
                        document.getElementById("option" + (i + 1)).innerHTML = story.currentVertex.options[i].toString();
                    }
                }

                //functionality of buttons
                function transferOption1() {
                    story.currentVertex = story.currentVertex.options[0];
                    displayData();
                }

                function transferOption2() {
                    story.currentVertex = story.currentVertex.options[1];
                    displayData();
                }

                function transferOption3() {
                    story.currentVertex = story.currentVertex.options[2];
                    displayData();
                }

                displayData();
            </script>
        </div>

        <!--Display game over and loop if necessary-->
        <div id="game-over" style="visibility: hidden;">
            You done.
        </div>
    </div>
</body>